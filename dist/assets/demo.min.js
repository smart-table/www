(function(){'use strict';function a(b,c,...d){const e=d.reduce((a,b)=>{const c=Array.isArray(b)?b:[b];return a.concat(c)},[]).map((a)=>{const b=typeof a;return'object'==b||'function'==b?a:B(a)});if('function'!=typeof b)return{nodeType:b,props:c,children:e,lifeCycle:0};const f=Object.assign({children:e},c),g=b(f);return'function'==typeof g?a(g,c,...e):g}function b({props:a}={},{props:b}={}){const c=U(a||{}),d=U(b||{});return c.length||d.length?D(P(d),Q(c)):M}function c(a,b){const c=a.props||{},d=b.props||{};if(I(c,d))return M;if('Text'===a.nodeType)return T(a.props.value);const e=Object.keys(c),f=Object.keys(d),g=f.filter((a)=>!e.includes(a));return D(S(g),R(e.map(H(c))))}function d(a,b){const c=Object.assign({},a),e=Array.from(b.childNodes).filter((a)=>3!==a.nodeType||''!==a.nodeValue.trim());return c.dom=b,c.children=a.children.map((a,b)=>d(a,e[b])),c}function e(a,b){let c=b;return(b,...d)=>{const e=c.dom.parentNode,f=a(Object.assign({children:c.children||[]},c.props,b),...d),g=Y(c,f,e);return c=Object.assign(c||{},f),G(function(){for(let a of g)a()}),f}}function f(a){return function(){let b;const c=(c,...d)=>{return a(c,(a)=>b(a),...d)},d=(a)=>{b=e(c,a)};return D(_(d),ba(d))(c)}}function g(a,b={},c=L){return function(d,f=L,g=(c,a)=>!1===K(c,a)){return function(h){let i,j,k,l=h;const m=(a,...c)=>{return d(a,b,...c)},n=_((b)=>{i=e(m,b),k=a.subscribe(()=>{const b=c(a.getState());!0===g(j,b)&&(Object.assign(l,f(b)),i(l),j=b)})}),o=aa(()=>{k()});return D(n,o)(m)}}}function h(a){function b(a={},c=[]){const d=c.shift(),e=a[d];return e===void 0||0===c.length?e:b(e,c)}const c=a.split('.');return{get(a){return b(a,[...c])},set:function(a,b){let d=a;const[e,...f]=c.reverse();for(const c of f.reverse())void 0===d[c]&&(d[c]={},d=d[c]);return d[e]=Object.assign(d[e]||{},b),a}}}function i(a){const c=h(a).get;return(d,a)=>{const b=c(d),e=c(a);return b===e?0:void 0===e?-1:void 0===b?1:b<e?-1:1}}function j({pointer:a,direction:b}={}){if(!a||'none'===b)return(a)=>[...a];const c=i(a),d='desc'===b?C(c):c;return(a)=>[...a].sort(d)}function k(a){return'boolean'===a?Boolean:'number'===a?Number:'date'===a?(a)=>new Date(a):D(String,(a)=>a.toLowerCase())}function l({value:a='',operator:b='includes',type:c='string'}){const d=k(c),e=D(d,ha[b]),f=e(a);return D(d,f)}function m(a){const b={},c=Object.keys(a).filter((b)=>Array.isArray(a[b]));return c.forEach((c)=>{const d=a[c].filter((a)=>''!==a.value);0<d.length&&(b[c]=d)}),b}function n(a){const b=m(a),c=Object.keys(b).map((a)=>{const c=h(a).get,d=b[a].map(l);return D(c,ia(d))}),d=ia(c);return(a)=>a.filter(d)}function o(a={}){const{value:b,scope:c=[]}=a,d=c.map((a)=>h(a).get);return 0!==c.length&&b?(a)=>a.filter((a)=>d.some((c)=>(c(a)+'').includes(b+''))):(a)=>a}function p(){const a={},b={on(c,...d){return a[c]=(a[c]||[]).concat(d),b},dispatch(c,...d){const e=a[c]||[];for(const a of e)a(...d);return b},off(c,...d){if(c===void 0)Object.keys(a).forEach((a)=>b.off(a));else{const b=a[c]||[];a[c]=d.length?b.filter((a)=>!d.includes(a)):[]}return b}};return b}function q(a,b=300){let c;return(d)=>{c&&window.clearTimeout(c),c=window.setTimeout(function(){a(d)},b)}}function r(a,{rowSelector:b,cellSelector:c}){const d=sb(a,b),e=[...d.querySelectorAll(c)],f=e.indexOf(a),g=vb(a);return{selectFromAfter:g,selectFromBefore:g,next(){return void 0===e[f+1]?null:e[f+1]},previous(){return void 0===e[f-1]?null:e[f-1]}}}function s(a,b){const c=r(a,b);return{previous:c.previous,next:c.next}}function t(a,b){const c=sb(a,b.cellSelector),d=c.getAttribute(tb),e=[...c.querySelectorAll(d)],f=e.length,g=a!==c;return{selectFromBefore(){return g?a:e[0]},selectFromAfter(){return g?a:e[f-1]},next(){const d=e.indexOf(a);return g&&d+1<f?e[d+1]:r(c,b).next()},previous(){const d=e.indexOf(a);return g&&0<d?e[d-1]:r(c,b).previous()}}}function u(a,b){return null===a?null:a.hasAttribute(ub)?s(a,b):a.hasAttribute(tb)||!a.matches(b.cellSelector)?t(a,b):r(a,b)}function v(a,b,{rowSelector:c='tr',cellSelector:d='th,td'}={}){const e=[...b.querySelectorAll(c)],f=[...a.querySelectorAll(d)],g=e.indexOf(a);return{previous(){return void 0===e[g-1]?null:e[g-1]},next(){return void 0===e[g+1]?null:e[g+1]},item(a){return void 0===f[a]?null:f[a]}}}function w(a,b,c){const d=v(a,b,c);return{previous:d.previous,next:d.next}}function x(a,b,{rowSelector:c,cellSelector:d}={}){if(null===a)return null;const e=sb(a,c);return e.hasAttribute(ub)?w(e,b,{rowSelector:c,cellSelector:d}):v(a,b,{rowSelector:c,cellSelector:d})}function y(a,b){const{rowSelector:c,cellSelector:d}=b;return{moveRight(a){const c=u(a,b);let d=u(c.next(),b);for(;null!==d&&void 0===d.selectFromBefore;)d=u(d.next(),b);return null===d?a:d.selectFromBefore()},moveLeft(a){const c=u(a,b);let d=u(c.previous(),b);for(;null!==d&&void 0===d.selectFromAfter;)d=u(d.previous(),b);return null===d?a:d.selectFromAfter()},moveUp(e){const f=sb(e,c),g=[...f.querySelectorAll(d)],h=x(f,a,b);let i=x(h.previous(),a,b);for(;null!==i&&void 0===i.item;)i=x(i.previous(),a,b);if(null===i)return e;let j=g.indexOf(sb(e,d)),k=u(i.item(j),b);for(;null===k||void 0===k.selectFromBefore&&0<j;)j--,k=u(i.item(j),b);return k.selectFromBefore()},moveDown(e){const f=sb(e,c),g=[...f.querySelectorAll(d)],h=x(f,a,b);let i=x(h.next(),a,b);for(;null!==i&&void 0===i.item;)i=x(i.next(),a,b);if(null===i)return e;let j=g.indexOf(sb(e,d)),k=u(i.item(j),b);for(;null===k||void 0===k.selectFromBefore&&0<j;)j--,k=u(i.item(j),b);return k.selectFromBefore()}}}function z(a,{rowSelector:b='tr',cellSelector:c='td,th'}={}){let d=null;const e=y(a,{rowSelector:b,cellSelector:c});a.addEventListener('keydown',({target:a,keyCode:b})=>{let c=null;37===b?c=e.moveLeft(a):38===b?c=e.moveUp(a):39===b?c=e.moveRight(a):40===b&&(c=e.moveDown(a)),null!==c&&(c.focus(),null!=d&&d.setAttribute('tabindex','-1'),c.setAttribute('tabindex','0'),d=c)})}var A=Math.min;const B=(a)=>({nodeType:'Text',children:[],props:{value:a},lifeCycle:0}),C=(c)=>(d,a)=>c(a,d),D=(a,...b)=>(...c)=>b.reduce((a,b)=>b(a),a(...c)),E=(a,b)=>{const c=b||a.length;return(...b)=>{const d=b.length||1;if(c===d)return a(...b);return E((...c)=>a(...b,...c),c-b.length)}},F=(a)=>(b)=>{return a(b),b},G=(a)=>setTimeout(a,0),H=(a)=>(b)=>[b,a[b]],I=(c,a)=>{const b=Object.keys(c),d=Object.keys(a);return b.length===d.length&&b.every((b)=>c[b]===a[b])},J=(a)=>Object.keys(a).filter((b)=>a.hasOwnProperty(b)),K=(c,d)=>{const e=typeof c;if(c===d)return!0;if(e!=typeof d)return!1;if('object'!=e)return c===d;if(null===c||null===d)return!1;if(Array.isArray(c))return c.length&&d.length&&c.every((a,b)=>K(c[b],d[b]));const f=J(c),g=J(d);return f.length===g.length&&f.every((a)=>K(c[a],d[a]))},L=(b)=>b,M=()=>{},N='http://www.w3.org/2000/svg',O=(a)=>(b)=>F((c)=>{for(let d of b)c[a](...d)}),P=O('removeEventListener'),Q=O('addEventListener'),R=(a)=>F((b)=>{const c=a.filter(([a,b])=>'function'!=typeof b);for(let[a,d]of c)!1===d?b.removeAttribute(a):b.setAttribute(a,d)}),S=(a)=>F((b)=>{for(let c of a)b.removeAttribute(c)}),T=(a)=>(b)=>b.textContent=a,U=(a)=>{return Object.keys(a).filter((a)=>'on'===a.substr(0,2)).map((b)=>[b.substr(2).toLowerCase(),a[b]])},V=function*(a){if(yield a,a.children&&a.children.length)for(let b of a.children)yield*V(b)},W=(a,b)=>{return'svg'===a.nodeType?document.createElementNS(N,a.nodeType):'Text'===a.nodeType?document.createTextNode(a.nodeType):b.namespaceURI===N?document.createElementNS(N,a.nodeType):document.createElement(a.nodeType)},X=function(a,b,c){if(!a){if(b)return b.dom=c.appendChild(W(b,c)),b.lifeCycle=1,{vnode:b,garbage:null};throw new Error('unsupported operation')}else return b?b.nodeType===a.nodeType?(b.dom=a.dom,b.lifeCycle=a.lifeCycle+1,{garbage:null,vnode:b}):(b.dom=W(b,c),b.lifeCycle=1,c.replaceChild(b.dom,a.dom),{garbage:a,vnode:b}):(c.removeChild(a.dom),{garbage:a,dom:null})},Y=function(a,d,e,f=[]){const{vnode:g,garbage:h}=X(a,d,e);if(null!==h)for(let a of V(h))a.onUnMount&&f.push(a.onUnMount);const j=null===h&&a?a:{length:0,children:[],props:{}};if(g){if(g.onUpdate&&1<g.lifeCycle&&g.onUpdate(),c(g,j)(g.dom),'Text'===g.nodeType)return f;g.onMount&&1===g.lifeCycle&&f.push(()=>g.onMount());const a=Math.max(j.children.length,g.children.length),d=b(g,j);if(d!==M&&f.push(()=>d(g.dom)),0<a)for(let b=0;b<a;b++)Y(j.children[b],g.children[b],g.dom,f)}return f},Z=E(function(a,b,c){const e=void 0===a.nodeType?a(b||{}):a,f=c.children.length?d(e,c.children[0]):null,g=Y(f,e,c);return G(function(){for(let a of g)a()}),e}),$=(a)=>E((b,c)=>(d,...e)=>{const f=c(d,...e);return f[a]=()=>b(f,...e),f}),_=$('onMount'),aa=$('onUnMount'),ba=$('onUpdate'),ca=(a)=>(b)=>!a(b),da=(a)=>(b)=>Object.is(a,b),ea=(a)=>(b)=>b<a,fa=(a)=>(b)=>b>a,ga=(a)=>(b)=>a===b,ha={includes:(a)=>(b)=>b.includes(a),is:da,isNot:D(da,ca),lt:ea,gte:D(ea,ca),gt:fa,lte:D(fa,ca),equals:ga,notEquals:D(ga,ca)},ia=(a)=>(...b)=>a.every((a)=>a(...b));var ja=({page:b=1,size:a}={})=>(c=[])=>{const d=a||c.length,e=(b-1)*d;return c.slice(e,e+d)};const ka='DISPLAY_CHANGED',la='CHANGE_PAGE',ma='EXEC_CHANGED',na='SUMMARY_CHANGED',oa=(a)=>{const{get:b,set:c}=h(a);return{get:b,set:E(c)}};var pa=({sortFactory:a,tableState:b,data:c,filterFactory:d,searchFactory:e})=>{let f=c.length;const g=p(),h=oa('sort'),i=oa('slice'),j=oa('filter'),k=oa('search');g.on(na,({filteredCount:a})=>{f=a});const l=E((a,b)=>Object.assign({},a,b)),m=E(g.dispatch,2),n=(a)=>m(na,{page:b.slice.page,size:b.slice.size,filteredCount:a.length}),o=E((a,c,d)=>D(l(a.get(b)),F(m(c)),a.set(b))(d)),q=()=>o(i,la,{page:1}),r=(a,b)=>D(o(a,b),q,()=>g.exec()),s={sort:r(h,'TOGGLE_SORT'),filter:r(j,'FILTER_CHANGED'),search:r(k,'SEARCH_CHANGED'),slice:D(o(i,la),()=>g.exec()),exec:({processingDelay:f=20}={})=>{g.dispatch(ma,{working:!0}),setTimeout(()=>{try{const f=d(j.get(b)),l=e(k.get(b)),m=a(h.get(b)),o=ja(i.get(b)),p=D(f,l,F(n),m,o),q=p(c);g.dispatch(ka,q.map((a)=>({index:c.indexOf(a),value:a})))}catch(a){g.dispatch('EXEC_ERROR',a)}finally{g.dispatch(ma,{working:!1})}},f)},async eval(f=b){const g=a(h.get(f)),l=e(k.get(f)),m=d(j.get(f)),n=ja(i.get(f)),o=D(m,l,g,n);return o(c).map((a)=>({index:c.indexOf(a),value:a}))},onDisplayChange(a){g.on(ka,a)},getTableState(){const a=Object.assign({},b.sort),c=Object.assign({},b.search),d=Object.assign({},b.slice),e={};for(const a of Object.getOwnPropertyNames(b.filter))e[a]=b.filter[a].map((a)=>Object.assign({},a));return{sort:a,search:c,slice:d,filter:e}}},t=Object.assign(g,s);return Object.defineProperties(t,{filteredCount:{get(){return f}},length:{get(){return c.length}}}),t};const qa=E((a,b)=>a[b]),ra=E((a,b,c)=>a.map((a,d)=>c===d?b:a)),sa=E((a,b,c)=>ra(a,Object.assign(a[c],b),c)),ta=E((a,b)=>a.filter((a,c)=>b!==c)),ua=E((a,b,c)=>[...a.slice(0,c),b,...a.slice(c)]),va=function(a){return function(b={tableState:a.getTableState(),displayed:[],summary:{},isProcessing:!1},c){const{type:d,args:e}=c;switch(d){case'TOGGLE_FILTER':{const{filter:a}=c;return Object.assign({},b,{activeFilter:a})}default:return a[d]&&a[d](...e),b;}}},wa=function({sortFactory:a=j,filterFactory:b=n,searchFactory:c=o,tableState:d={sort:{},slice:{page:1},filter:{},search:{}},data:e=[]},...f){const g=pa({sortFactory:a,filterFactory:b,tableState:d,data:e,searchFactory:c});return f.reduce((f,h)=>Object.assign(f,h({sortFactory:a,filterFactory:b,searchFactory:c,tableState:d,data:e,table:g})),g)}({data,tableState:{search:{},filter:{},sort:{},slice:{page:1,size:20}}},function({data:a,table:b}){const c=D((b)=>{a.splice(0),a.push(...b)},b.exec);return{update(b,d){return D(ra(a,d),c)(b)},patch(b,c){return sa(a,c,b)},remove:D(ta(a),c),insert(b,d=0){return D(ua(a,b),c)(d)},get:qa(a)}});var xa=function(a){const b=va(a);let c,d={tableState:a.getTableState()},e=[];const f=()=>{for(let a of e)a()};return a.on('SUMMARY_CHANGED',function(a){c=a}),a.on('EXEC_CHANGED',function({working:a}){Object.assign(d,{isProcessing:a}),f()}),a.onDisplayChange(function(b){Object.assign(d,{tableState:a.getTableState(),displayed:b,summary:c}),f()}),{subscribe(a){return e.push(a),()=>{e=e.filter((b)=>b!==a)}},getState(){return Object.assign({},d,{tableState:a.getTableState()})},dispatch(c={}){d=b(d,c),c.type&&!a[c.type]&&f()}}}(wa);const ya=(...a)=>(b)=>{const{keyCode:c}=b;-1===a.indexOf(c)&&b.stopPropagation()},za=_((a)=>a.dom.focus()),Aa=za((b)=>{return delete b.children,a('input',b)}),Ba=(a)=>(b)=>{const{keyCode:c}=b;13===c?a.toggleEdit(!0)():27===c&&b.currentTarget.focus()},Ca=(b)=>{const c=Ba(b);return a('td',{tabIndex:'-1',onKeyDown:c,onClick:b.toggleEdit(!0),class:b.className},'true'===b.isEditing?a(Aa,{onKeydown:ya(27),type:b.type||'text',value:b.currentValue,onInput:b.onInput,onBlur:b.toggleEdit(!1)}):a('span',null,b.currentValue))},Da=(a)=>{return f((b,c)=>{const d=Object.assign({},{toggleEdit:(a)=>()=>c(Object.assign({},b,{isEditing:void 0===a?!0!==b.isEditing:a}))},b);return a(d)})},Ea=Da((b)=>{const{toggleEdit:c,person:d,index:e,className:f,patch:g,isEditing:h}=b;let i=d.name.last;const j=q((a)=>{i=a.target.value,g(e,{name:{last:i,first:d.name.first}})});return a(Ca,{isEditing:(!0===h)+'',toggleEdit:c,className:f,currentValue:i,onInput:j})}),Fa=Da((b)=>{const{toggleEdit:c,person:d,index:e,className:f,patch:g,isEditing:h}=b;let i=d.name.first;const j=q((a)=>{i=a.target.value,g(e,{name:{first:i,last:d.name.last}})});return a(Ca,{isEditing:(!0===h)+'',toggleEdit:c,className:f,currentValue:i,onInput:j})}),Ga=za(({onChange:b,toggleEdit:c,person:d})=>{return a('select',{onKeyDown:ya(27),name:'gender select',onChange:b,onBlur:c(!1)},a('option',{value:'male',selected:'male'===d.gender},'male'),a('option',{value:'female',selected:'female'===d.gender},'female'))}),Ha=Da((b)=>{const{toggleEdit:c,person:d,index:e,className:f,patch:g,isEditing:h}=b;let i=d.gender;const j=Ba(b),k=q((a)=>{i=a.target.value,g(e,{gender:i})}),l='female'===d.gender?'gender-female':'gender-male';return a('td',{tabIndex:'-1',onKeyDown:j,onClick:c(!0),class:f},h?a(Ga,{onChange:k,toggleEdit:c,person:d}):a('span',{class:l},i))}),Ia=Da((b)=>{const{toggleEdit:c,person:d,index:e,className:f,patch:g,isEditing:h}=b;let i=d.size;const j=q((a)=>{i=a.target.value,g(e,{size:i})}),k=100*A((d.size-150)/50,1),l=Ba(b);return a('td',{tabIndex:'-1',class:f,onKeyDown:l,onClick:c(!0)},h?a(Aa,{onKeydown:ya(27),type:'number',min:'150',max:'200',value:i,onBlur:c(!1),onInput:j}):a('span',null,a('span',{style:`height: ${k}%`,class:'size-stick'}),i))}),Ja=Da((b)=>{const{toggleEdit:c,person:d,index:e,className:f,patch:g,isEditing:h}=b;let i=d.birthDate;const j=q((a)=>{i=a.target.value,g(e,{birthDate:new Date(i)})});return a(Ca,{type:'date',isEditing:(!0===h)+'',toggleEdit:c,className:f,currentValue:i.toDateString(),onInput:j})}),Ka=()=>a('svg',{"aria-hidden":'true',class:'icon',viewBox:'0 0 32 32'},a('path',{d:'M16 0c-8.837 0-16 2.239-16 5v3l12 12v10c0 1.105 1.791 2 4 2s4-0.895 4-2v-10l12-12v-3c0-2.761-7.163-5-16-5zM2.95 4.338c0.748-0.427 1.799-0.832 3.040-1.171 2.748-0.752 6.303-1.167 10.011-1.167s7.262 0.414 10.011 1.167c1.241 0.34 2.292 0.745 3.040 1.171 0.494 0.281 0.76 0.519 0.884 0.662-0.124 0.142-0.391 0.38-0.884 0.662-0.748 0.427-1.8 0.832-3.040 1.171-2.748 0.752-6.303 1.167-10.011 1.167s-7.262-0.414-10.011-1.167c-1.24-0.34-2.292-0.745-3.040-1.171-0.494-0.282-0.76-0.519-0.884-0.662 0.124-0.142 0.391-0.38 0.884-0.662z'})),La=()=>a('svg',{"aria-hidden":'true',class:'icon',viewBox:'0 0 32 32'},a('path',{d:'M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z'})),Ma=()=>a('svg',{class:'icon',viewBox:'0 0 32 32'},a('path',{d:'M2 6h28v6h-28zM2 14h28v6h-28zM2 22h28v6h-28z'})),Na=()=>a('svg',{class:'icon',viewBox:'0 0 32 32'},a('path',{d:'M10 24v-24h-4v24h-5l7 7 7-7h-5z'}),a('path',{d:'M14 18h18v4h-18v-4z'}),a('path',{d:'M14 12h14v4h-14v-4z'}),a('path',{d:'M14 6h10v4h-10v-4z'}),a('path',{d:'M14 0h6v4h-6v-4z'})),Oa=()=>a('svg',{class:'icon',viewBox:'0 0 32 32'},a('path',{d:'M10 24v-24h-4v24h-5l7 7 7-7h-5z'}),a('path',{d:'M14 0h18v4h-18v-4z'}),a('path',{d:'M14 6h14v4h-14v-4z'}),a('path',{d:'M14 12h10v4h-10v-4z'}),a('path',{d:'M14 18h6v4h-6v-4z'})),Pa=g(xa,{remove:(a)=>xa.dispatch({type:'remove',args:[a]}),patch:(a,b)=>xa.dispatch({type:'patch',args:[a,b]})},(a)=>a.displayed),Qa=ba((a)=>{const b=a.dom.querySelector('td');null!==b&&b.focus()}),Ra=Qa(({persons:d=[],patch:b,remove:c})=>{return d.length?a('tbody',null,d.map(({value:d,index:e})=>a('tr',null,a(Ea,{className:'col-lastname',person:d,index:e,patch:b}),a(Fa,{className:'col-firstname',person:d,index:e,patch:b}),a(Ja,{className:'col-birthdate',person:d,index:e,patch:b}),a(Ha,{className:'col-gender fixed-size',person:d,index:e,patch:b}),a(Ia,{className:'col-size fixed-size',person:d,index:e,patch:b}),a('td',{class:'fixed-size col-actions',"data-keyboard-selector":'button'},a('button',{tabindex:'-1',onClick:()=>c(e)},a('span',{class:'visually-hidden'},'Delete '+d.name.last+' '+d.name.first),a(La,null)))))):a('tbody',null,a('tr',null,a('td',{tabIndex:'-1',colSpan:'6'},'There is no data matching your request')))}),Sa=Pa((b,c)=>{return a(Ra,{persons:b.persons,remove:c.remove,patch:c.patch})},(a)=>({persons:a}),(a,b)=>{let c=!0;return typeof a==typeof b&&(c=a.length!==b.length||a.some((c,d)=>a[d].value.id!==b[d].value.id)),c}),Ta=g(xa,{},(a)=>({isProcessing:a.isProcessing})),Ua=Ta(({isProcessing:b})=>{const c=!0===b?'st-working':'',d=!0===b?'loading persons data':'data loaded';return a('div',{id:'overlay',"aria-live":'assertive',role:'alert',class:c},d)}),Va=h('tableState.sort').get,Wa=g(xa,{toggleSort:({pointer:a,direction:b})=>xa.dispatch({type:'sort',args:[{pointer:a,direction:b}]})},Va),Xa=({direction:b})=>{return'asc'===b?a(Na,null):'desc'===b?a(Oa,null):a(Ma,null)},Ya=(b)=>{const{columnPointer:c,sortDirections:g=['asc','desc'],pointer:d,direction:e,sort:f}=b,h=c===d?g.indexOf(e):-1,i=(h+1)%g.length;return a('button',{tabindex:'-1',onClick:()=>f({pointer:c,direction:g[i]})},a('span',{class:'visually-hidden'},'Toggle sort'),a(Xa,{direction:g[h]}))},Za=Wa((b,c)=>a(Ya,Object.assign({},b,{sort:c.toggleSort}))),$a=h('tableState.search').get,_a=()=>!1,ab=g(xa,{search:(a,b)=>xa.dispatch({type:'search',args:[{value:a,scope:b}]})},$a),bb=(b)=>a('label',null,a('span',null,b.children),a('input',{tabindex:'0',type:'search',onInput:b.onInput,placeholder:b.placeholder})),cb=ab((b,c)=>{const d=q((a)=>c.search(a.target.value,['name.last','name.first']),300);return delete b.children,a('tr',b,a('th',{"data-keyboard-selector":'input'},a(bb,{placeholder:'Case sensitive search on surname and name',onInput:d},'Search:')))},_a,_a),db=ba((a)=>{const b=a.props['aria-hidden'];if('false'===b){const b=a.dom.querySelector('input, select');b&&setTimeout(()=>b.focus(),5)}}),eb=g(xa,{toggleFilterMenu:(a)=>xa.dispatch({type:'TOGGLE_FILTER',filter:a}),commitFilter:(a)=>xa.dispatch({type:'filter',args:[a]})},(a)=>({activeFilter:a.activeFilter,filterClauses:a.tableState.filter})),fb=db((b={})=>{const{isHidden:c,toggleFilterMenu:d,commitFilter:e}=b,f=()=>{d(null),document.querySelector(`[aria-controls=${g}]`).focus()},g=['filter'].concat(b.scope.split('.')).join('-'),h=!0!==c;return a('tr',{id:g,class:'filter-row',onKeydown:(a)=>{('Escape'===a.code||27===a.keyCode||'Escape'===a.key)&&f()},"data-keyboard-skip":h,"aria-hidden":h+''},a('th',{colspan:'6',"data-keyboard-selector":'input, select'},a('form',{name:b.scope,onSubmit:(a)=>{const b=a.target,{name:c}=b,d=b.querySelectorAll('input, select');e({[c]:[...d].map((a)=>{return{type:a.type,value:a.value,operator:a.getAttribute('data-operator')||'includes'}})}),a.preventDefault(),f()}},b.children,a('div',{class:'visually-hidden'},a('button',{tabIndex:'-1'},'Apply')),a('p',{id:g+'-instruction'},'Press Enter to activate filter or escape to dismiss'))))}),gb=(b)=>{const{columnPointer:c,toggleFilterMenu:d,filterClauses:e={}}=b,f=e[c]||[],g=['filter'].concat(c.split('.')).join('-'),h=f.length&&f.some((a)=>a.value);return a('button',{"aria-haspopup":'true',tabindex:'-1',class:h?'active-filter':'',"aria-controls":g,onClick:()=>d(c)},a('span',{class:'visually-hidden'},'Toggle Filter menu'),a(Ka,null))},hb=eb((b,c)=>{return a(gb,Object.assign({},b,{toggleFilterMenu:c.toggleFilterMenu}))}),ib=eb((b,c)=>{return a(fb,{scope:b.scope,isHidden:b.activeFilter===b.scope,toggleFilterMenu:c.toggleFilterMenu,commitFilter:c.commitFilter},b.children)}),jb=(b)=>{const{columnPointer:c,sortDirections:f=['asc','desc'],className:d,children:e}=b;return a('th',{class:d,"data-keyboard-selector":'button'},e,a('div',{class:'buttons-container'},a(Za,{columnPointer:c,sortDirections:f}),a(hb,{columnPointer:c})))},kb=()=>{return a('thead',null,a(cb,{class:'filter-row'}),a('tr',null,a(jb,{className:'col-lastname',columnPointer:'name.last',sortDirections:['asc','desc','none']},'Surname'),a(jb,{className:'col-firstname',columnPointer:'name.first'},'Name'),a(jb,{className:'col-birthdate',sortDirections:['desc','asc'],columnPointer:'birthDate'},'Date of birth'),a(jb,{className:'col-gender fixed-size',columnPointer:'gender'},'Gender'),a(jb,{className:'col-size fixed-size',columnPointer:'size'},'Size'),a('th',{"data-keyboard-skip":!0,class:'fixed-size col-actions'})),a(ib,{scope:'name.last'},a('label',null,a('span',null,'surname includes:'),a('input',{"aria-describedby":'filter-name-last-instruction',onKeyDown:ya(27,38,40),type:'text',placeholder:'case insensitive surname value'}))),a(ib,{scope:'name.first'},a('label',null,a('span',null,'name includes:'),a('input',{onKeyDown:ya(27,38,40),type:'text',placeholder:'case insensitive name value'}))),a(ib,{scope:'birthDate'},a('label',null,a('span',null,'born after:'),a('input',{onKeyDown:ya(27),"data-operator":'gt',type:'date'}))),a(ib,{scope:'gender'},a('label',null,a('span',null,'gender is:'),a('select',{onKeyDown:ya(27),"data-operator":'is'},a('option',{value:''},'-'),a('option',{value:'female'},'female'),a('option',{value:'male'},'male')))),a(ib,{scope:'size'},a('label',null,a('span',null,'taller than:'),a('input',{onKeyDown:ya(27),min:'150',max:'200',step:'1',type:'range',"data-operator":'gt'})),a('label',null,a('span',null,'smaller than:'),a('input',{onKeyDown:ya(27),min:'150',max:'200',step:'1',type:'range',"data-operator":'lt'}))))},lb=g(xa,{slice:(a,b)=>xa.dispatch({type:'slice',args:[{page:a,size:b}]})},(a)=>a.summary),mb=(b)=>{const{size:c,slice:d}=b;return a('div',null,a('label',null,'Page size ',a('select',{tabIndex:'-1',onChange:(a)=>d(1,+a.target.value),name:'pageSize'},a('option',{selected:20==c,value:'20'},'20 items'),a('option',{selected:30==c,value:'30'},'30 items'),a('option',{selected:50==c,value:'50'},'50 items'))))},nb=(b)=>{const{page:c,size:d,filteredCount:e,slice:f}=b;return a('div',null,a('button',{tabIndex:'-1',onClick:()=>f(c-1,d),disabled:1===c},'Previous'),a('small',null,' Page - ',c||1,' '),a('button',{tabIndex:'-1',onClick:()=>f(c+1,d),disabled:0>=e-c*d},'Next'))},ob=lb((b)=>{const{page:c,size:d,filteredCount:e}=b;return a('div',null,' showing items ',a('strong',null,(c-1)*d+(0<e?1:0)),' - ',a('strong',null,A(e,c*d)),' of ',a('strong',null,e),' matching items')}),pb=lb((b,c)=>a(nb,Object.assign({},b,{slice:c.slice}))),qb=lb((b,c)=>a(mb,Object.assign({},b,{slice:c.slice}))),rb=()=>a('tfoot',null,a('tr',null,a('td',{colspan:'3'},a(ob,null)),a('td',{colspan:'2',"data-keyboard-selector":'button:not(:disabled)',colSpan:'3'},a(pb,null)),a('td',{"data-keyboard-selector":'select'},a(qb,null)))),sb=(a,b)=>!0===a.matches(b)?a:sb(a.parentElement,b),tb='data-keyboard-selector',ub='data-keyboard-skip',vb=(a)=>()=>a,wb=_((a)=>{xa.dispatch({type:'exec',args:[]}),z(a.dom.querySelector('table'))}),xb=wb(()=>a('div',{id:'table-container'},a(Ua,null),a('table',null,a(kb,null),a(Sa,null),a(rb,null))));setTimeout(()=>Z(xb,{},document.getElementById('demo-container')),10)})();
