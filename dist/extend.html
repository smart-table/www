<!DOCTYPE html><html lang="en"><head><meta charset="utf8"><title></title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="./assets/logo.svg"><link href="./assets/theme.css" rel="stylesheet"><link href="./assets/prism-tomorrow.css" rel="stylesheet"><link href="./assets/logo.svg" rel="icon"></head><body><a href="#main">Skip to content</a><header role="banner"><nav><ul><li><a class="logo" href="./"><span aria-hidden="true"><span class="icon svg-container"><!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="192" height="77" viewBox="0 0 192 77">
    <title>smart-table-icon</title>
    <defs>
        <rect id="st-rect" width="30" height="10" stroke-width="2"/>
    </defs>
    <use xlink:href="#st-rect" fill="#ff6300" x="1" y="1"/>
    <use xlink:href="#st-rect" fill="#173f46" x="41" y="1"/>
    <use xlink:href="#st-rect" fill="#173f46" x="81" y="1"/>
    <use xlink:href="#st-rect" fill="#ff6300" x="121" y="1"/>
    <use xlink:href="#st-rect" fill="#ff6300" x="161" y="1"/>

    <use xlink:href="#st-rect" fill="#ff6c00" x="1" y="16"/>
    <use xlink:href="#st-rect" fill="#173f46" x="41" y="16"/>
    <use xlink:href="#st-rect" fill="#ff6c00" x="81" y="16"/>
    <use xlink:href="#st-rect" fill="#ff6c00" x="121" y="16"/>
    <use xlink:href="#st-rect" fill="#ff6c00" x="161" y="16"/>

    <use xlink:href="#st-rect" fill="#ff7200" x="1" y="31"/>
    <use xlink:href="#st-rect" fill="#173f46" x="41" y="31"/>
    <use xlink:href="#st-rect" fill="#173f46" x="81" y="31"/>
    <use xlink:href="#st-rect" fill="#173f46" x="121" y="31"/>
    <use xlink:href="#st-rect" fill="#173f46" x="161" y="31"/>

    <use xlink:href="#st-rect" fill="#ff7A00" x="1" y="46"/>
    <use xlink:href="#st-rect" fill="#173f46" x="41" y="46"/>
    <use xlink:href="#st-rect" fill="#ff7A00" x="81" y="46"/>
    <use xlink:href="#st-rect" fill="#173f46" x="121" y="46"/>
    <use xlink:href="#st-rect" fill="#ff7A00" x="161" y="46"/>

    <use xlink:href="#st-rect" fill="#173f46" x="1" y="61"/>
    <use xlink:href="#st-rect" fill="#173f46" x="41" y="61"/>
    <use xlink:href="#st-rect" fill="#ff7e00" x="81"  y="61"/>
    <use xlink:href="#st-rect" fill="#173f46" x="121" y="61"/>
    <use xlink:href="#st-rect" fill="#ff7e00" x="161" y="61" />

    <line x1="1" y1="66" x2="71" y2="66" stroke="#173f46" stroke-width="10"/>
    <line x1="41" y1="6" x2="111" y2="6" stroke="#173f46" stroke-width="10"/>
    <line x1="81" y1="36" x2="151" y2="36" stroke="#173f46" stroke-width="10"/>
</svg></span></span><span class="visually-hidden">Home</span></a></li><li><a href="#documentation-menu" role="button" aria-haspopup="true" aria-controls="documentation-menu"><span aria-hidden="true"><span class="icon svg-container"><!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="36" height="32" viewBox="0 0 36 32">
<title>books</title>
<path d="M7 4h-6c-0.55 0-1 0.45-1 1v22c0 0.55 0.45 1 1 1h6c0.55 0 1-0.45 1-1v-22c0-0.55-0.45-1-1-1zM6 10h-4v-2h4v2z"></path>
<path d="M17 4h-6c-0.55 0-1 0.45-1 1v22c0 0.55 0.45 1 1 1h6c0.55 0 1-0.45 1-1v-22c0-0.55-0.45-1-1-1zM16 10h-4v-2h4v2z"></path>
<path d="M23.909 5.546l-5.358 2.7c-0.491 0.247-0.691 0.852-0.443 1.343l8.999 17.861c0.247 0.491 0.852 0.691 1.343 0.443l5.358-2.7c0.491-0.247 0.691-0.852 0.443-1.343l-8.999-17.861c-0.247-0.491-0.852-0.691-1.343-0.443z"></path>
<path d="M29 27c0 0.552-0.448 1-1 1s-1-0.448-1-1c0-0.552 0.448-1 1-1s1 0.448 1 1z"></path>
</svg></span></span><span>Documentation</span></a></li><li><a href="#integration-menu" role="button" aria-haspopup="true" aria-controls="integration-menu"><span aria-hidden="true"><span class="icon svg-container"><!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
<title>stack</title>
<path d="M32 10l-16-8-16 8 16 8 16-8zM16 4.655l10.689 5.345-10.689 5.345-10.689-5.345 10.689-5.345zM28.795 14.398l3.205 1.602-16 8-16-8 3.205-1.602 12.795 6.398zM28.795 20.398l3.205 1.602-16 8-16-8 3.205-1.602 12.795 6.398z"></path>
</svg></span></span><span>Integrations</span></a></li><li><a href="./demo.html" role="button"><span aria-hidden="true"><span class="icon svg-container"><!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
<title>video-camera</title>
<path d="M12 9c0-2.761 2.239-5 5-5s5 2.239 5 5c0 2.761-2.239 5-5 5s-5-2.239-5-5zM0 9c0-2.761 2.239-5 5-5s5 2.239 5 5c0 2.761-2.239 5-5 5s-5-2.239-5-5zM24 19v-3c0-1.1-0.9-2-2-2h-20c-1.1 0-2 0.9-2 2v10c0 1.1 0.9 2 2 2h20c1.1 0 2-0.9 2-2v-3l8 5v-14l-8 5zM20 24h-16v-6h16v6z"></path>
</svg></span></span><span>Demo</span></a></li></ul><div id="documentation-menu" role="menu"><ul><li role="menuitem"><a href="./getting-started.html"><span>Getting started</span></a></li><li role="menuitem"><a href="./table-state.html"><span>Table state</span></a></li><li role="menuitem"><a href="./table.html"><span>Table directive</span></a></li></ul><div role="separator"><div></div></div><ul><li role="menuitem"><a href="./sort.html"><span>Sort directive</span></a></li><li role="menuitem"><a href="./filter.html"><span>Filter directive</span></a></li><li role="menuitem"><a href="./search.html"><span>Search directive</span></a></li><li role="menuitem"><a href="./working-indicator.html"><span>Working Indicator directive</span></a></li><li role="menuitem"><a href="./summary.html"><span>Summary directive</span></a></li><li role="menuitem"><a href="./slice.html"><span>Slice directive</span></a></li></ul><div role="separator"><div></div></div><ul><li role="menuitem"><a href="./extend.html"><span>Extend smart table</span></a></li></ul></div><div id="integration-menu" role="menu"><ul><li role="menuitem"><a href="./vanilla.html"><span>Vanilla js</span></a></li><li role="menuitem"><a href="./react.html"><span>React</span></a></li><li role="menuitem"><a href="./preact.html"><span>Preact</span></a></li><li role="menuitem"><a href="./vuejs.html"><span>Vuejs</span></a></li><li role="menuitem"><a href="./flaco.html"><span>Flaco</span></a></li></ul></div></nav></header><main id="main"><div class="center-container"><h1>Documentation - Extend Smart Table</h1></div><p>There are many discussions on the benefits to write <strong>modular</strong> code in Javascript and how to do it (I recommend the <a href="">essays of RG on the topics</a>). This is a very tricky subject although Javascript is a very powerful language when it comes to create <em>structural or behavioral design patterns</em>.</p><p>Smart table tries to make the developer feel comfortable by using the idioms of the language only. You should be able to extend and compose smart table code as you would do for any regular function or objects: <em>this is Javascript !</em></p><p>This section aims at giving you an hint on how smart table fits in several well known composition mechanisms.</p><div class="framed method-container"><div><h2>Composition</h2></div><p>In this example we will take the <a href="">table directive factory</a> to create a new factory with more capabilities.</p><p>An important part of Oriented Object Programming is <em>encapsulation</em> (the ability to "hide" instance private data). On the other hand, we will probably want some data such the table state and the data set to be shared across different behaviors so we can build more sophisticated structures.</p><p>This example will share references to critical data among smart table extensions while hiding it to the outside world (thanks to a closure)</p><pre class="language-markup"><code class="language-markup"><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> smartTable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'smart-table-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultTableState <span class="token operator">=</span> <span class="token punctuation">{</span>sort<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> filter<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> search<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> slice<span class="token punctuation">:</span> <span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//an extra (useless) behavior</span>
<span class="token keyword">const</span> smartTableExtension <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">,</span> tableState<span class="token punctuation">,</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">resetAndRemoveFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//example: modify the shared instance of tableState</span>
      Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>tableState<span class="token punctuation">,</span> defaultTableState<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">//example: use core api (emitting an event here, and calling a refresh)</span>
      table<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'TABLE_RESET'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">//example: use data collection reference (here remove first item)</span>
      data<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      table<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// our composed factory</span>
<span class="token keyword">const</span> superSmartTable <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">,</span> tableState <span class="token operator">=</span> defaultTableState<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> core <span class="token operator">=</span> <span class="token function">smartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">,</span> tableState<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> core<span class="token punctuation">,</span> <span class="token function">smartTableExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">,</span> tableState<span class="token punctuation">,</span> table<span class="token punctuation">:</span> core<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//compose</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//use our super smart table</span>
<span class="token comment" spellcheck="true">// your data</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Deubaze'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> table <span class="token operator">=</span> <span class="token function">superSmartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">,</span>
  tableState<span class="token punctuation">:</span> <span class="token punctuation">{</span>sort<span class="token punctuation">:</span> <span class="token punctuation">{</span>pointer<span class="token punctuation">:</span> <span class="token string">'surname'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> filter<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> search<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> slice<span class="token punctuation">:</span> <span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// core methods available (here print the displayed data)</span>
table<span class="token punctuation">.</span><span class="token function">onDisplayChange</span><span class="token punctuation">(</span>items <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">=</span><span class="token operator">></span> i<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//new methods available as well</span>
table<span class="token punctuation">.</span><span class="token function">resetAndRemoveFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



</code></pre></div><div class="framed method-container"><div><h2>Mixin</h2></div><p>Here, we will borrow some object behaviors to replace the default ones provided by the core directive.</p><pre class="language-markup"><code class="language-markup"><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> smartTable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'smart-table-core'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//change the structure of returned items</span>
<span class="token keyword">const</span> smartTableExtension <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">,</span> tableState<span class="token punctuation">,</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> oldChangeRegister <span class="token operator">=</span> table<span class="token punctuation">.</span>onDisplayChange<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">//will overwrite the default onDisplayChange</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">onDisplayChange</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">oldChangeRegister</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> itemValues <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">=</span><span class="token operator">></span> i<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">listener</span><span class="token punctuation">(</span>itemValues<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// our composed factory</span>
<span class="token keyword">const</span> superSmartTable <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> core <span class="token operator">=</span> <span class="token function">smartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>core<span class="token punctuation">,</span> <span class="token function">smartTableExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">:</span> core<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//overwrite core method by mixin the extension within the core</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//use our super smart table</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Deubaze'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> table <span class="token operator">=</span> <span class="token function">superSmartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// core methods available</span>
table<span class="token punctuation">.</span><span class="token function">onDisplayChange</span><span class="token punctuation">(</span>items <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// no need to extract "value" property as the method has been overwritten</span>

table<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><div class="framed method-container"><div><h2>Decoration</h2></div><p>This example will simply add operations (or "advices") like logging function calls around common table functions.</p><pre class="language-markup"><code class="language-markup"><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> smartTable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'smart-table-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loggerAdvice <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>fns<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> object <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> output <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> methods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">typeof</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> fns<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> method <span class="token keyword">of</span> methods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    output<span class="token punctuation">[</span>method<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>method<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> called`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> object<span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> logCoreMethods <span class="token operator">=</span> <span class="token function">loggerAdvice</span><span class="token punctuation">(</span><span class="token string">'sort'</span><span class="token punctuation">,</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> <span class="token string">'search'</span><span class="token punctuation">,</span> <span class="token string">'slice'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> smartTableExtension <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">logCoreMethods</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// our composed factory</span>
<span class="token keyword">const</span> superSmartTable <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> core <span class="token operator">=</span> <span class="token function">smartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">smartTableExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">:</span> core<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//use our super smart table</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Deubaze'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> table <span class="token operator">=</span> <span class="token function">superSmartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

table<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>pointer<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// > 'sort called'</span>

</code></pre></div><div class="framed method-container"><div><h2>Adapters</h2></div><p>This example use the low level smart table API to define a new API perhaps more familiar or friendlier to your habits (using promises instead of events for example).</p><p>There are different ways of doing it:</p><ol><li>You can discard totally the built in event system and use the <code>eval</code> method but you'll have to manage table state mutation yourself</li><li>You can use event system to create new methods (or overwrite core ones)</li></ol><pre class="language-markup"><code class="language-markup"><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> smartTable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'smart-table-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> smartTableExtension <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">,</span> tableState<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// using eval</span>
    <span class="token function">sortAndReturn</span><span class="token punctuation">(</span>sortState<span class="token punctuation">)</span><span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>tableState<span class="token punctuation">,</span> <span class="token punctuation">{</span>sort<span class="token punctuation">:</span> sortState<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//you have to mutate table state yourself</span>
      <span class="token keyword">return</span> table<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//using event system (note you should handle error as well)</span>
    <span class="token function">sliceAndReturn</span><span class="token punctuation">(</span>sliceState<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//register once</span>
        <span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
          table<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'DISPLAY_CHANGED'</span><span class="token punctuation">,</span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">onDisplayChange</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>sliceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// our composed factory</span>
<span class="token keyword">const</span> superSmartTable <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">,</span> tableState <span class="token operator">=</span> <span class="token punctuation">{</span>sort<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> filter<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> search<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> slice<span class="token punctuation">:</span> <span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> core <span class="token operator">=</span> <span class="token function">smartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">,</span> tableState<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">smartTableExtension</span><span class="token punctuation">(</span><span class="token punctuation">{</span>table<span class="token punctuation">:</span> core<span class="token punctuation">,</span> tableState<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Deubaze'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> table <span class="token operator">=</span> <span class="token function">superSmartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

table<span class="token punctuation">.</span><span class="token function">sortAndReturn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>pointer<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>items <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">=</span><span class="token operator">></span> i<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> table<span class="token punctuation">.</span><span class="token function">sliceAndReturn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>items <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">=</span><span class="token operator">></span> i<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><div class="framed method-container"><div><h2>Extension directives</h2></div><p>The table directive factory proposes a contract to avoid the repetition of the code related to the composition mechanism. You can pass has many factories you want: they will have to return an extension to be merged with the core table and will receive as arguments <strong>references</strong> to the <code>data</code> collection, the <code>tableState</code> and the core table instance.</p><pre class="language-markup"><code class="language-markup"><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> smartTable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'smart-table-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> extension1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>tableState<span class="token punctuation">,</span> data<span class="token punctuation">,</span> table<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> extension2 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>tableState<span class="token punctuation">,</span> data<span class="token punctuation">,</span> table<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">//...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Deubaze'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Raymond'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>surname<span class="token punctuation">:</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> table <span class="token operator">=</span> <span class="token function">smartTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">,</span> extension1<span class="token punctuation">,</span> extension2<span class="token punctuation">)</span><span class="token punctuation">;</span>

table<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><div class="framed method-container"><div><h2>Example wit existing plugins</h2></div><p>There are already a handful of community extensions you can refer to in order to get more examples</p><ul><li><a href="https://github.com/smart-table/smart-table-crud">smart-table-crud</a></li><li><a href="https://github.com/smart-table/smart-table-perf">smart-table-perf</a></li><li><a href="https://github.com/smart-table/smart-table-virtualizer">smart-table-virtualizer</a></li></ul></div></main><footer id="main-footer"><p>Made with love in <span class="visually-hidden">Cuba</span> <img src="./assets/cuba.svg" alt="Cuba"></p><p>MIT licence - 2017 - Laurent Renard copyright</p><a href="https://github.com/smart-table/www"><span class="visually-hidden">Source code</span><span class="svg-container"><!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
<title>github</title>
<path d="M16 0.395c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
</svg></span></a></footer><script>(function (i, s, o, g, r, a, m) {
  i['GoogleAnalyticsObject'] = r;
  i[r] = i[r] || function () {
(i[r].q=i[r].q || []).push(arguments)},i[r].l=1 * new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-98635490-1', 'auto');
ga('send', 'pageview');</script></body></html>