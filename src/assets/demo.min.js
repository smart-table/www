var _Mathmin=Math.min;(function(){'use strict';function j(gc,hc,...ic){const jc=ic.reduce((kc,lc)=>{const mc=Array.isArray(lc)?lc:[lc];return kc.concat(mc)},[]).map((kc)=>{const lc=typeof kc;return'object'==lc||'function'==lc?kc:T(kc)});if('function'!=typeof gc)return{nodeType:gc,props:hc,children:jc,lifeCycle:0};const kc=Object.assign({children:jc},hc),lc=gc(kc);return'function'==typeof lc?j(lc,hc,...jc):lc}function m(gc){return(hc,ic)=>gc(ic,hc)}function o(gc,...hc){return(...ic)=>hc.reduce((jc,kc)=>kc(jc),gc(...ic))}function q(gc,hc){const ic=hc||gc.length;return(...jc)=>{const kc=jc.length||1;if(ic===kc)return gc(...jc);return q((...mc)=>gc(...jc,...mc),ic-jc.length)}}function t(gc){return(hc)=>{return gc(hc),hc}}function u({props:gc}={},{props:hc}={}){const ic=ia(gc||{}),jc=ia(hc||{});return ic.length||jc.length?o(ca(jc),da(ic)):$}function w(gc,hc){const ic=gc.props||{},jc=hc.props||{};if(W(ic,jc))return $;if('Text'===gc.nodeType)return ga(gc.props.value);const kc=Object.keys(ic),lc=Object.keys(jc),mc=lc.filter((nc)=>!kc.includes(nc));return o(fa(mc),ea(kc.map(V(ic))))}function x(gc,hc){'use strict';const ic=Object.assign({},gc),jc=Array.from(hc.childNodes).filter((kc)=>3!==kc.nodeType||''!==kc.nodeValue.trim());return ic.dom=hc,ic.children=gc.children.map((kc,lc)=>x(kc,jc[lc])),ic}function y(gc,hc){let ic=hc;return(kc,...lc)=>{const mc=ic.dom.parentNode,nc=gc(Object.assign({children:ic.children||[]},ic.props,kc),...lc),oc=ma(ic,nc,mc);return ic=Object.assign(ic||{},nc),U(function(){for(let pc of oc)pc()}),nc}}function z(gc){function hc(kc={},lc=[]){const mc=lc.shift(),nc=kc[mc];return nc===void 0||0===lc.length?nc:hc(nc,lc)}const jc=gc.split('.');return{get(kc){return hc(kc,[...jc])},set:function(kc,lc){let mc=kc;const[nc,...oc]=jc.reverse();for(let pc of oc.reverse())void 0===mc[pc]&&(mc[pc]={},mc=mc[pc]);return mc[nc]=Object.assign(mc[nc]||{},lc),kc}}}function A(gc){const hc=z(gc).get;return(ic,jc)=>{const kc=hc(ic),lc=hc(jc);return kc===lc?0:void 0===lc?-1:void 0===kc?1:kc<lc?-1:1}}function B({pointer:gc,direction:hc}={}){if(!gc||'none'===hc)return(kc)=>[...kc];const ic=A(gc),jc='desc'===hc?m(ic):ic;return(kc)=>[...kc].sort(jc)}function C(gc){return'boolean'===gc?Boolean:'number'===gc?Number:'date'===gc?(hc)=>new Date(hc):o(String,(hc)=>hc.toLowerCase())}function D({value:gc='',operator:hc='includes',type:ic='string'}){const jc=C(ic),kc=o(jc,ua[hc]),lc=kc(gc);return o(jc,lc)}function E(gc){const hc={},ic=Object.keys(gc).filter((jc)=>Array.isArray(gc[jc]));return ic.forEach((jc)=>{const kc=gc[jc].filter((lc)=>''!==lc.value);kc.length&&(hc[jc]=kc)}),hc}function F(gc){const hc=E(gc),ic=Object.keys(hc).map((kc)=>{const lc=z(kc).get,mc=hc[kc].map(D);return o(lc,va(mc))}),jc=va(ic);return(kc)=>kc.filter(jc)}function G({page:hc=1,size:gc}={}){return function(jc=[]){const kc=gc||jc.length,lc=(hc-1)*kc;return jc.slice(lc,lc+kc)}}function H(){const gc={},hc={on(ic,...jc){return gc[ic]=(gc[ic]||[]).concat(jc),hc},dispatch(ic,...jc){const kc=gc[ic]||[];for(let lc of kc)lc(...jc);return hc},off(ic,...jc){if(!ic)Object.keys(gc).forEach((kc)=>hc.off(kc));else{const kc=gc[ic]||[];gc[ic]=jc.length?kc.filter((lc)=>!jc.includes(lc)):[]}return hc}};return hc}function I(gc){const{get:hc,set:ic}=z(gc);return{get:hc,set:q(ic)}}function K(gc,hc=300){let ic;return(jc)=>{ic&&window.clearTimeout(ic),ic=window.setTimeout(function(){gc(jc)},hc)}}function L(gc,{rowSelector:hc,cellSelector:ic}){const jc=_b(gc,hc),kc=[...jc.querySelectorAll(ic)],lc=kc.indexOf(gc),mc=cc(gc);return{selectFromAfter:mc,selectFromBefore:mc,next(){return void 0===kc[lc+1]?null:kc[lc+1]},previous(){return void 0===kc[lc-1]?null:kc[lc-1]}}}function M(gc,hc){const ic=L(gc,hc);return{previous:ic.previous,next:ic.next}}function N(gc,hc){const ic=_b(gc,hc.cellSelector),jc=ic.getAttribute(ac),kc=[...ic.querySelectorAll(jc)],lc=kc.length,mc=gc!==ic;return{selectFromBefore(){return mc?gc:kc[0]},selectFromAfter(){return mc?gc:kc[lc-1]},next(){const nc=kc.indexOf(gc);return mc&&nc+1<lc?kc[nc+1]:L(ic,hc).next()},previous(){const nc=kc.indexOf(gc);return mc&&0<nc?kc[nc-1]:L(ic,hc).previous()}}}function O(gc,hc){return null===gc?null:gc.hasAttribute(bc)?M(gc,hc):gc.hasAttribute(ac)||!gc.matches(hc.cellSelector)?N(gc,hc):L(gc,hc)}function P(gc,hc,{rowSelector:ic='tr',cellSelector:jc='th,td'}={}){const kc=[...hc.querySelectorAll(ic)],lc=[...gc.querySelectorAll(jc)],mc=kc.indexOf(gc);return{previous(){return void 0===kc[mc-1]?null:kc[mc-1]},next(){return void 0===kc[mc+1]?null:kc[mc+1]},item(nc){return void 0===lc[nc]?null:lc[nc]}}}function Q(gc,hc,ic){const jc=P(gc,hc,ic);return{previous:jc.previous,next:jc.next}}function R(gc,hc,{rowSelector:ic,cellSelector:jc}={}){if(null===gc)return null;const kc=_b(gc,ic);return kc.hasAttribute(bc)?Q(kc,hc,{rowSelector:ic,cellSelector:jc}):P(gc,hc,{rowSelector:ic,cellSelector:jc})}function S(gc,hc){const{rowSelector:ic,cellSelector:jc}=hc;return{moveRight(kc){const lc=O(kc,hc);let mc=O(lc.next(),hc);for(;null!==mc&&void 0===mc.selectFromBefore;)mc=O(mc.next(),hc);return null===mc?kc:mc.selectFromBefore()},moveLeft(kc){const lc=O(kc,hc);let mc=O(lc.previous(),hc);for(;null!==mc&&void 0===mc.selectFromAfter;)mc=O(mc.previous(),hc);return null===mc?kc:mc.selectFromAfter()},moveUp(kc){const lc=_b(kc,ic),mc=[...lc.querySelectorAll(jc)],nc=R(lc,gc,hc);let oc=R(nc.previous(),gc,hc);for(;null!==oc&&void 0===oc.item;)oc=R(oc.previous(),gc,hc);if(null===oc)return kc;let pc=mc.indexOf(_b(kc,jc)),qc=O(oc.item(pc),hc);for(;null===qc||void 0===qc.selectFromBefore&&0<pc;)pc--,qc=O(oc.item(pc),hc);return qc.selectFromBefore()},moveDown(kc){const lc=_b(kc,ic),mc=[...lc.querySelectorAll(jc)],nc=R(lc,gc,hc);let oc=R(nc.next(),gc,hc);for(;null!==oc&&void 0===oc.item;)oc=R(oc.next(),gc,hc);if(null===oc)return kc;let pc=mc.indexOf(_b(kc,jc)),qc=O(oc.item(pc),hc);for(;null===qc||void 0===qc.selectFromBefore&&0<pc;)pc--,qc=O(oc.item(pc),hc);return qc.selectFromBefore()}}}const T=(gc)=>({nodeType:'Text',children:[],props:{value:gc},lifeCycle:0}),U=(gc)=>setTimeout(gc,0),V=(gc)=>(hc)=>[hc,gc[hc]],W=(gc,hc)=>{const ic=Object.keys(gc),jc=Object.keys(hc);return ic.length===jc.length&&ic.every((kc)=>gc[kc]===hc[kc])},X=(gc)=>Object.keys(gc).filter((hc)=>gc.hasOwnProperty(hc)),Y=(gc,hc)=>{const ic=typeof gc;if(gc===hc)return!0;if(ic!=typeof hc)return!1;if('object'!=ic)return gc===hc;if(null===gc||null===hc)return!1;if(Array.isArray(gc))return gc.length&&hc.length&&gc.every((lc,mc)=>Y(gc[mc],hc[mc]));const jc=X(gc),kc=X(hc);return jc.length===kc.length&&jc.every((lc)=>Y(gc[lc],hc[lc]))},Z=(gc)=>gc,$=()=>{},aa='http://www.w3.org/2000/svg',ba=(gc)=>(hc)=>t((ic)=>{for(let jc of hc)ic[gc](...jc)}),ca=ba('removeEventListener'),da=ba('addEventListener'),ea=(gc)=>t((hc)=>{const ic=gc.filter(([jc,kc])=>'function'!=typeof kc);for(let[jc,kc]of ic)!1===kc?hc.removeAttribute(jc):hc.setAttribute(jc,kc)}),fa=(gc)=>t((hc)=>{for(let ic of gc)hc.removeAttribute(ic)}),ga=(gc)=>(hc)=>hc.textContent=gc,ia=(gc)=>{return Object.keys(gc).filter((hc)=>'on'===hc.substr(0,2)).map((hc)=>[hc.substr(2).toLowerCase(),gc[hc]])},ja=function*(gc){if(yield gc,gc.children&&gc.children.length)for(let hc of gc.children)yield*ja(hc)},ka=(gc,hc)=>{return'svg'===gc.nodeType?document.createElementNS(aa,gc.nodeType):'Text'===gc.nodeType?document.createTextNode(gc.nodeType):hc.namespaceURI===aa?document.createElementNS(aa,gc.nodeType):document.createElement(gc.nodeType)},la=function(hc,ic,jc){if(!hc){if(ic)return ic.dom=jc.appendChild(ka(ic,jc)),ic.lifeCycle=1,{vnode:ic,garbage:null};throw new Error('unsupported operation')}else return ic?ic.nodeType===hc.nodeType?(ic.dom=hc.dom,ic.lifeCycle=hc.lifeCycle+1,{garbage:null,vnode:ic}):(ic.dom=ka(ic,jc),ic.lifeCycle=1,jc.replaceChild(ic.dom,hc.dom),{garbage:hc,vnode:ic}):(jc.removeChild(hc.dom),{garbage:hc,dom:null})},ma=function(hc,ic,jc,kc=[]){const{vnode:lc,garbage:mc}=la(hc,ic,jc);if(null!==mc)for(let oc of ja(mc))oc.onUnMount&&kc.push(oc.onUnMount);const nc=null===mc&&hc?hc:{length:0,children:[],props:{}};if(lc){if(lc.onUpdate&&1<lc.lifeCycle&&lc.onUpdate(),w(lc,nc)(lc.dom),'Text'===lc.nodeType)return kc;lc.onMount&&1===lc.lifeCycle&&kc.push(()=>lc.onMount());const oc=Math.max(nc.children.length,lc.children.length),pc=u(lc,nc);if(pc!==$&&kc.push(()=>pc(lc.dom)),0<oc)for(let qc=0;qc<oc;qc++)ma(nc.children[qc],lc.children[qc],lc.dom,kc)}return kc},na=q(function(gc,hc,ic){const jc=void 0===gc.nodeType?gc(hc||{}):gc,kc=ic.children.length?x(jc,ic.children[0]):null,lc=ma(kc,jc,ic);return U(function(){for(let mc of lc)mc()}),jc}),oa=(gc)=>q((hc,ic)=>(jc,...kc)=>{const lc=ic(jc,...kc);return lc[gc]=()=>hc(lc,...kc),lc}),pa=oa('onMount'),qa=oa('onUnMount'),ra=oa('onUpdate');var sa=function(gc){return function(){let hc;const ic=(kc,...lc)=>{return gc(kc,(nc)=>hc(nc),...lc)},jc=(kc)=>{hc=y(ic,kc)};return o(pa(jc),ra(jc))(ic)}},ta=function(gc,hc={},ic=Z){return function(jc,kc=Z,lc=(mc,nc)=>!1===Y(mc,nc)){return function(mc){let nc=mc,oc,pc,qc;const rc=(uc,...vc)=>{return jc(uc,hc,...vc)},sc=pa((uc)=>{oc=y(rc,uc),qc=gc.subscribe(()=>{const vc=ic(gc.getState());!0===lc(pc,vc)&&(Object.assign(nc,kc(vc)),oc(nc),pc=vc)})}),tc=qa(()=>{qc()});return o(sc,tc)(rc)}}};const ua={includes(gc){return(hc)=>hc.includes(gc)},is(gc){return(hc)=>Object.is(gc,hc)},isNot(gc){return(hc)=>!Object.is(gc,hc)},lt(gc){return(hc)=>hc<gc},gt(gc){return(hc)=>hc>gc},lte(gc){return(hc)=>hc<=gc},gte(gc){return(hc)=>hc>=gc},equals(gc){return(hc)=>gc==hc},notEquals(gc){return(hc)=>gc!=hc}},va=(gc)=>(...hc)=>gc.every((ic)=>ic(...hc));var wa=function(gc={}){const{value:hc,scope:ic=[]}=gc,jc=ic.map((kc)=>z(kc).get);return ic.length&&hc?(kc)=>kc.filter((lc)=>jc.some((mc)=>(mc(lc)+'').includes(hc+''))):(kc)=>kc};const ya='DISPLAY_CHANGED',za='CHANGE_PAGE',Aa='EXEC_CHANGED';var Fa=function({sortFactory:gc,tableState:hc,data:ic,filterFactory:jc,searchFactory:kc}){const lc=H(),mc=I('sort'),nc=I('slice'),oc=I('filter'),pc=I('search'),qc=q((zc,Ac)=>Object.assign({},zc,Ac)),rc=q(lc.dispatch.bind(lc),2),sc=(zc)=>{rc('SUMMARY_CHANGED',{page:hc.slice.page,size:hc.slice.size,filteredCount:zc.length})},uc=q((zc,Ac,Bc)=>o(qc(zc.get(hc)),t(rc(Ac)),zc.set(hc))(Bc)),vc=()=>uc(nc,za,{page:1}),wc=(zc,Ac)=>o(uc(zc,Ac),vc,()=>lc.exec()),xc={sort:wc(mc,'TOGGLE_SORT'),filter:wc(oc,'FILTER_CHANGED'),search:wc(pc,'SEARCH_CHANGED'),slice:o(uc(nc,za),()=>lc.exec()),exec:({processingDelay:zc=20}={})=>{lc.dispatch(Aa,{working:!0}),setTimeout(function(){try{const Ac=jc(oc.get(hc)),Bc=kc(pc.get(hc)),Cc=gc(mc.get(hc)),Dc=G(nc.get(hc)),Ec=o(Ac,Bc,t(sc),Cc,Dc),Fc=Ec(ic);lc.dispatch(ya,Fc.map((Gc)=>{return{index:ic.indexOf(Gc),value:Gc}}))}catch(Ac){lc.dispatch('EXEC_ERROR',Ac)}finally{lc.dispatch(Aa,{working:!1})}},zc)},eval(zc=hc){return Promise.resolve().then(function(){const Ac=gc(mc.get(zc)),Bc=kc(pc.get(zc)),Cc=jc(oc.get(zc)),Dc=G(nc.get(zc)),Ec=o(Cc,Bc,Ac,Dc);return Ec(ic).map((Fc)=>{return{index:ic.indexOf(Fc),value:Fc}})})},onDisplayChange(zc){lc.on(ya,zc)},getTableState(){const zc=Object.assign({},hc.sort),Ac=Object.assign({},hc.search),Bc=Object.assign({},hc.slice),Cc={};for(let Dc in hc.filter)Cc[Dc]=hc.filter[Dc].map((Ec)=>Object.assign({},Ec));return{sort:zc,search:Ac,slice:Bc,filter:Cc}}},yc=Object.assign(lc,xc);return Object.defineProperty(yc,'length',{get(){return ic.length}}),yc};const Ia=q((gc,hc)=>gc[hc]),Ja=q((gc,hc,ic)=>gc.map((jc,kc)=>ic===kc?hc:jc)),Ka=q((gc,hc,ic)=>Ja(gc,Object.assign(gc[ic],hc),ic)),La=q((gc,hc)=>gc.filter((ic,jc)=>hc!==jc)),Ma=q((gc,hc,ic)=>[...gc.slice(0,ic),hc,...gc.slice(ic)]);const Oa=function(gc){return function(hc={tableState:gc.getTableState(),displayed:[],summary:{},isProcessing:!1},ic){const{type:jc,args:kc}=ic;switch(jc){case'TOGGLE_FILTER':{const{filter:lc}=ic;return Object.assign({},hc,{activeFilter:lc})}default:return gc[jc]&&gc[jc](...kc),hc;}}},Qa=function({sortFactory:gc=B,filterFactory:hc=F,searchFactory:ic=wa,tableState:jc={sort:{},slice:{page:1},filter:{},search:{}},data:kc=[]},...lc){const mc=Fa({sortFactory:gc,filterFactory:hc,tableState:jc,data:kc,searchFactory:ic});return lc.reduce((nc,oc)=>{return Object.assign(nc,oc({sortFactory:gc,filterFactory:hc,searchFactory:ic,tableState:jc,data:kc,table:mc}))},mc)}({data,tableState:{search:{},filter:{},sort:{},slice:{page:1,size:20}}},function({data:gc,table:hc}){const jc=o((kc)=>{gc.splice(0),gc.push(...kc)},hc.exec);return{update(kc,lc){return o(Ja(gc,lc),jc)(kc)},patch(kc,lc){return Ka(gc,lc,kc)},remove:o(La(gc),jc),insert(kc,lc=0){return o(Ma(gc,kc),jc)(lc)},get:Ia(gc)}});var Ra=function(gc){const hc=Oa(gc);let jc,ic={tableState:gc.getTableState()},kc=[];const lc=()=>{for(let mc of kc)mc()};return gc.on('SUMMARY_CHANGED',function(mc){jc=mc}),gc.on('EXEC_CHANGED',function({working:mc}){Object.assign(ic,{isProcessing:mc}),lc()}),gc.onDisplayChange(function(mc){Object.assign(ic,{tableState:gc.getTableState(),displayed:mc,summary:jc}),lc()}),{subscribe(mc){return kc.push(mc),()=>{kc=kc.filter((nc)=>nc!==mc)}},getState(){return Object.assign({},ic,{tableState:gc.getTableState()})},dispatch(mc={}){ic=hc(ic,mc),mc.type&&!gc[mc.type]&&lc()}}}(Qa);const Sa=(...gc)=>(hc)=>{const{keyCode:ic}=hc;-1===gc.indexOf(ic)&&hc.stopPropagation()},Ta=pa((gc)=>gc.dom.focus()),Ua=Ta((gc)=>{return delete gc.children,j('input',gc)}),Va=(gc)=>(hc)=>{const{keyCode:ic}=hc;13===ic?gc.toggleEdit(!0)():27===ic&&hc.currentTarget.focus()},Wa=(gc)=>{const hc=Va(gc);return j('td',{tabIndex:'-1',onKeyDown:hc,onClick:gc.toggleEdit(!0),class:gc.className},'true'===gc.isEditing?j(Ua,{onKeydown:Sa(27),type:gc.type||'text',value:gc.currentValue,onInput:gc.onInput,onBlur:gc.toggleEdit(!1)}):j('span',null,gc.currentValue))},Xa=(gc)=>{return sa((hc,ic)=>{const kc=Object.assign({},{toggleEdit:(lc)=>()=>ic(Object.assign({},hc,{isEditing:void 0===lc?!0!==hc.isEditing:lc}))},hc);return gc(kc)})},Ya=Xa((gc)=>{const{toggleEdit:hc,person:ic,index:jc,className:kc,patch:lc,isEditing:mc}=gc;let nc=ic.name.last;const oc=K((pc)=>{nc=pc.target.value,lc(jc,{name:{last:nc,first:ic.name.first}})});return j(Wa,{isEditing:(!0===mc)+'',toggleEdit:hc,className:kc,currentValue:nc,onInput:oc})}),Za=Xa((gc)=>{const{toggleEdit:hc,person:ic,index:jc,className:kc,patch:lc,isEditing:mc}=gc;let nc=ic.name.first;const oc=K((pc)=>{nc=pc.target.value,lc(jc,{name:{first:nc,last:ic.name.last}})});return j(Wa,{isEditing:(!0===mc)+'',toggleEdit:hc,className:kc,currentValue:nc,onInput:oc})}),$a=Ta(({onChange:gc,toggleEdit:hc,person:ic})=>{return j('select',{onKeyDown:Sa(27),name:'gender select',onChange:gc,onBlur:hc(!1)},j('option',{value:'male',selected:'male'===ic.gender},'male'),j('option',{value:'female',selected:'female'===ic.gender},'female'))}),_a=Xa((gc)=>{const{toggleEdit:hc,person:ic,index:jc,className:kc,patch:lc,isEditing:mc}=gc;let nc=ic.gender;const oc=Va(gc),pc=K((rc)=>{nc=rc.target.value,lc(jc,{gender:nc})}),qc='female'===ic.gender?'gender-female':'gender-male';return j('td',{tabIndex:'-1',onKeyDown:oc,onClick:hc(!0),class:kc},mc?j($a,{onChange:pc,toggleEdit:hc,person:ic}):j('span',{class:qc},nc))}),ab=Xa((gc)=>{const{toggleEdit:hc,person:ic,index:jc,className:kc,patch:lc,isEditing:mc}=gc;let nc=ic.size;const oc=K((rc)=>{nc=rc.target.value,lc(jc,{size:nc})}),pc=100*_Mathmin((ic.size-150)/50,1),qc=Va(gc);return j('td',{tabIndex:'-1',class:kc,onKeyDown:qc,onClick:hc(!0)},mc?j(Ua,{onKeydown:Sa(27),type:'number',min:'150',max:'200',value:nc,onBlur:hc(!1),onInput:oc}):j('span',null,j('span',{style:`height: ${pc}%`,class:'size-stick'}),nc))}),bb=Xa((gc)=>{const{toggleEdit:hc,person:ic,index:jc,className:kc,patch:lc,isEditing:mc}=gc;let nc=ic.birthDate;const oc=K((pc)=>{nc=pc.target.value,lc(jc,{birthDate:new Date(nc)})});return j(Wa,{type:'date',isEditing:(!0===mc)+'',toggleEdit:hc,className:kc,currentValue:nc.toDateString(),onInput:oc})}),cb=()=>j('svg',{'aria-hidden':'true',class:'icon',viewBox:'0 0 32 32'},j('path',{d:'M16 0c-8.837 0-16 2.239-16 5v3l12 12v10c0 1.105 1.791 2 4 2s4-0.895 4-2v-10l12-12v-3c0-2.761-7.163-5-16-5zM2.95 4.338c0.748-0.427 1.799-0.832 3.040-1.171 2.748-0.752 6.303-1.167 10.011-1.167s7.262 0.414 10.011 1.167c1.241 0.34 2.292 0.745 3.040 1.171 0.494 0.281 0.76 0.519 0.884 0.662-0.124 0.142-0.391 0.38-0.884 0.662-0.748 0.427-1.8 0.832-3.040 1.171-2.748 0.752-6.303 1.167-10.011 1.167s-7.262-0.414-10.011-1.167c-1.24-0.34-2.292-0.745-3.040-1.171-0.494-0.282-0.76-0.519-0.884-0.662 0.124-0.142 0.391-0.38 0.884-0.662z'})),db=()=>j('svg',{'aria-hidden':'true',class:'icon',viewBox:'0 0 32 32'},j('path',{d:'M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z'})),eb=()=>j('svg',{class:'icon',viewBox:'0 0 32 32'},j('path',{d:'M2 6h28v6h-28zM2 14h28v6h-28zM2 22h28v6h-28z'})),fb=()=>j('svg',{class:'icon',viewBox:'0 0 32 32'},j('path',{d:'M10 24v-24h-4v24h-5l7 7 7-7h-5z'}),j('path',{d:'M14 18h18v4h-18v-4z'}),j('path',{d:'M14 12h14v4h-14v-4z'}),j('path',{d:'M14 6h10v4h-10v-4z'}),j('path',{d:'M14 0h6v4h-6v-4z'})),gb=()=>j('svg',{class:'icon',viewBox:'0 0 32 32'},j('path',{d:'M10 24v-24h-4v24h-5l7 7 7-7h-5z'}),j('path',{d:'M14 0h18v4h-18v-4z'}),j('path',{d:'M14 6h14v4h-14v-4z'}),j('path',{d:'M14 12h10v4h-10v-4z'}),j('path',{d:'M14 18h6v4h-6v-4z'})),lb=ta(Ra,{remove:(gc)=>Ra.dispatch({type:'remove',args:[gc]}),patch:(gc,hc)=>Ra.dispatch({type:'patch',args:[gc,hc]})},(gc)=>gc.displayed),mb=ra((gc)=>{const hc=gc.dom.querySelector('td');null!==hc&&hc.focus()}),nb=mb(({persons:ic=[],patch:gc,remove:hc})=>{return ic.length?j('tbody',null,ic.map(({value:jc,index:kc})=>j('tr',null,j(Ya,{className:'col-lastname',person:jc,index:kc,patch:gc}),j(Za,{className:'col-firstname',person:jc,index:kc,patch:gc}),j(bb,{className:'col-birthdate',person:jc,index:kc,patch:gc}),j(_a,{className:'col-gender fixed-size',person:jc,index:kc,patch:gc}),j(ab,{className:'col-size fixed-size',person:jc,index:kc,patch:gc}),j('td',{class:'fixed-size col-actions','data-keyboard-selector':'button'},j('button',{tabindex:'-1',onClick:()=>hc(kc)},j('span',{class:'visually-hidden'},'Delete '+jc.name.last+' '+jc.name.first),j(db,null)))))):j('tbody',null,j('tr',null,j('td',{tabIndex:'-1',colSpan:'6'},'There is no data matching your request')))}),pb=lb((gc,hc)=>{return j(nb,{persons:gc.persons,remove:hc.remove,patch:hc.patch})},(gc)=>({persons:gc}),(gc,hc)=>{let ic=!0;return typeof gc==typeof hc&&(ic=gc.length!==hc.length||gc.some((jc,kc)=>gc[kc].value.id!==hc[kc].value.id)),ic}),sb=ta(Ra,{},(gc)=>({isProcessing:gc.isProcessing})),ub=sb(({isProcessing:gc})=>{const hc=!0===gc?'st-working':'',ic=!0===gc?'loading persons data':'data loaded';return j('div',{id:'overlay','aria-live':'assertive',role:'alert',class:hc},ic)}),wb=z('tableState.sort').get,xb=ta(Ra,{toggleSort:({pointer:gc,direction:hc})=>Ra.dispatch({type:'sort',args:[{pointer:gc,direction:hc}]})},wb),yb=({direction:gc})=>{return'asc'===gc?j(fb,null):'desc'===gc?j(gb,null):j(eb,null)},zb=(gc)=>{const{columnPointer:hc,sortDirections:lc=['asc','desc'],pointer:ic,direction:jc,sort:kc}=gc,mc=hc===ic?lc.indexOf(jc):-1,nc=(mc+1)%lc.length;return j('button',{tabindex:'-1',onClick:()=>kc({pointer:hc,direction:lc[nc]})},j('span',{class:'visually-hidden'},'Toggle sort'),j(yb,{direction:lc[mc]}))},Ab=xb((gc,hc)=>j(zb,Object.assign({},gc,{sort:hc.toggleSort}))),Cb=z('tableState.search').get,Db=()=>!1,Eb=ta(Ra,{search:(gc,hc)=>Ra.dispatch({type:'search',args:[{value:gc,scope:hc}]})},Cb),Fb=(gc)=>j('label',null,j('span',null,gc.children),j('input',{tabindex:'0',type:'search',onInput:gc.onInput,placeholder:gc.placeholder})),Gb=Eb((gc,hc)=>{const ic=K((jc)=>hc.search(jc.target.value,['name.last','name.first']),300);return delete gc.children,j('tr',gc,j('th',{'data-keyboard-selector':'input'},j(Fb,{placeholder:'Case sensitive search on surname and name',onInput:ic},'Search:')))},Db,Db),Hb=ra((gc)=>{const hc=gc.props['aria-hidden'];if('false'===hc){const ic=gc.dom.querySelector('input, select');ic&&setTimeout(()=>ic.focus(),5)}}),Kb=ta(Ra,{toggleFilterMenu:(gc)=>Ra.dispatch({type:'TOGGLE_FILTER',filter:gc}),commitFilter:(gc)=>Ra.dispatch({type:'filter',args:[gc]})},(gc)=>({activeFilter:gc.activeFilter,filterClauses:gc.tableState.filter})),Lb=Hb((gc={})=>{const{isHidden:hc,toggleFilterMenu:ic,commitFilter:jc}=gc,kc=()=>{ic(null),document.querySelector(`[aria-controls=${mc}]`).focus()},mc=['filter'].concat(gc.scope.split('.')).join('-'),oc=!0!==hc;return j('tr',{id:mc,class:'filter-row',onKeydown:(pc)=>{('Escape'===pc.code||27===pc.keyCode||'Escape'===pc.key)&&kc()},'data-keyboard-skip':oc,'aria-hidden':oc+''},j('th',{colspan:'6','data-keyboard-selector':'input, select'},j('form',{name:gc.scope,onSubmit:(pc)=>{const qc=pc.target,{name:rc}=qc,sc=qc.querySelectorAll('input, select');jc({[rc]:[...sc].map((tc)=>{return{type:tc.type,value:tc.value,operator:tc.getAttribute('data-operator')||'includes'}})}),pc.preventDefault(),kc()}},gc.children,j('div',{class:'visually-hidden'},j('button',{tabIndex:'-1'},'Apply')),j('p',{id:mc+'-instruction'},'Press Enter to activate filter or escape to dismiss'))))}),Mb=(gc)=>{const{columnPointer:hc,toggleFilterMenu:ic,filterClauses:jc={}}=gc,kc=jc[hc]||[],lc=['filter'].concat(hc.split('.')).join('-'),nc=kc.length&&kc.some((oc)=>oc.value);return j('button',{'aria-haspopup':'true',tabindex:'-1',class:nc?'active-filter':'','aria-controls':lc,onClick:()=>ic(hc)},j('span',{class:'visually-hidden'},'Toggle Filter menu'),j(cb,null))},Nb=Kb((gc,hc)=>{return j(Mb,Object.assign({},gc,{toggleFilterMenu:hc.toggleFilterMenu}))}),Ob=Kb((gc,hc)=>{return j(Lb,{scope:gc.scope,isHidden:gc.activeFilter===gc.scope,toggleFilterMenu:hc.toggleFilterMenu,commitFilter:hc.commitFilter},gc.children)}),Pb=(gc)=>{const{columnPointer:hc,sortDirections:kc=['asc','desc'],className:ic,children:jc}=gc;return j('th',{class:ic,'data-keyboard-selector':'button'},jc,j('div',{class:'buttons-container'},j(Ab,{columnPointer:hc,sortDirections:kc}),j(Nb,{columnPointer:hc})))},Qb=()=>{return j('thead',null,j(Gb,{class:'filter-row'}),j('tr',null,j(Pb,{className:'col-lastname',columnPointer:'name.last',sortDirections:['asc','desc','none']},'Surname'),j(Pb,{className:'col-firstname',columnPointer:'name.first'},'Name'),j(Pb,{className:'col-birthdate',sortDirections:['desc','asc'],columnPointer:'birthDate'},'Date of birth'),j(Pb,{className:'col-gender fixed-size',columnPointer:'gender'},'Gender'),j(Pb,{className:'col-size fixed-size',columnPointer:'size'},'Size'),j('th',{'data-keyboard-skip':!0,class:'fixed-size col-actions'})),j(Ob,{scope:'name.last'},j('label',null,j('span',null,'surname includes:'),j('input',{'aria-describedby':'filter-name-last-instruction',onKeyDown:Sa(27,38,40),type:'text',placeholder:'case insensitive surname value'}))),j(Ob,{scope:'name.first'},j('label',null,j('span',null,'name includes:'),j('input',{onKeyDown:Sa(27,38,40),type:'text',placeholder:'case insensitive name value'}))),j(Ob,{scope:'birthDate'},j('label',null,j('span',null,'born after:'),j('input',{onKeyDown:Sa(27),'data-operator':'gt',type:'date'}))),j(Ob,{scope:'gender'},j('label',null,j('span',null,'gender is:'),j('select',{onKeyDown:Sa(27),'data-operator':'is'},j('option',{value:''},'-'),j('option',{value:'female'},'female'),j('option',{value:'male'},'male')))),j(Ob,{scope:'size'},j('label',null,j('span',null,'taller than:'),j('input',{onKeyDown:Sa(27),min:'150',max:'200',step:'1',type:'range','data-operator':'gt'})),j('label',null,j('span',null,'smaller than:'),j('input',{onKeyDown:Sa(27),min:'150',max:'200',step:'1',type:'range','data-operator':'lt'}))))},Tb=ta(Ra,{slice:(gc,hc)=>Ra.dispatch({type:'slice',args:[{page:gc,size:hc}]})},(gc)=>gc.summary),Vb=(gc)=>{const{size:hc,slice:ic}=gc;return j('div',null,j('label',null,'Page size ',j('select',{tabIndex:'-1',onChange:(kc)=>ic(1,+kc.target.value),name:'pageSize'},j('option',{selected:20==hc,value:'20'},'20 items'),j('option',{selected:30==hc,value:'30'},'30 items'),j('option',{selected:50==hc,value:'50'},'50 items'))))},Wb=(gc)=>{const{page:hc,size:ic,filteredCount:jc,slice:kc}=gc;return j('div',null,j('button',{tabIndex:'-1',onClick:()=>kc(hc-1,ic),disabled:1===hc},'Previous'),j('small',null,' Page - ',hc||1,' '),j('button',{tabIndex:'-1',onClick:()=>kc(hc+1,ic),disabled:0>=jc-hc*ic},'Next'))},Xb=Tb((gc)=>{const{page:hc,size:ic,filteredCount:jc}=gc;return j('div',null,' showing items ',j('strong',null,(hc-1)*ic+(0<jc?1:0)),' - ',j('strong',null,_Mathmin(jc,hc*ic)),' of ',j('strong',null,jc),' matching items')}),Yb=Tb((gc,hc)=>j(Wb,Object.assign({},gc,{slice:hc.slice}))),Zb=Tb((gc,hc)=>j(Vb,Object.assign({},gc,{slice:hc.slice}))),$b=()=>j('tfoot',null,j('tr',null,j('td',{colspan:'3'},j(Xb,null)),j('td',{colspan:'2','data-keyboard-selector':'button:not(:disabled)',colSpan:'3'},j(Yb,null)),j('td',{'data-keyboard-selector':'select'},j(Zb,null)))),_b=(gc,hc)=>!0===gc.matches(hc)?gc:_b(gc.parentElement,hc),ac='data-keyboard-selector',bc='data-keyboard-skip',cc=(gc)=>()=>gc;var dc=function(gc,{rowSelector:hc='tr',cellSelector:ic='td,th'}={}){let jc=null;const kc=S(gc,{rowSelector:hc,cellSelector:ic});gc.addEventListener('keydown',({target:lc,keyCode:mc})=>{let nc=null;37===mc?nc=kc.moveLeft(lc):38===mc?nc=kc.moveUp(lc):39===mc?nc=kc.moveRight(lc):40===mc&&(nc=kc.moveDown(lc)),null!==nc&&(nc.focus(),null!=jc&&jc.setAttribute('tabindex','-1'),nc.setAttribute('tabindex','0'),jc=nc)})};const ec=pa((gc)=>{Ra.dispatch({type:'exec',args:[]}),dc(gc.dom.querySelector('table'))}),fc=ec(()=>j('div',{id:'table-container'},j(ub,null),j('table',null,j(Qb,null),j(pb,null),j($b,null))));setTimeout(()=>na(fc,{},document.getElementById('demo-container')),10)})();
